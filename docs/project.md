# 需求文档：自媒体工具集网站 - 静音片段过滤工具

## 1. 项目概述与目标

**项目名称：** 自媒体工具集网站（一期：静音片段过滤工具）

**目标用户：** 自媒体从业者，特别是以口播类视频创作为主的用户。

**核心痛点：**

1. 口播录制过程中因忘词、思考、口误等原因产生大量静音或低音量片段。
2. 在传统视频编辑软件（如PR、FCPX、剪映）中手动寻找并删除这些片段极其耗时、繁琐且不精确。

**解决方案：**
开发一个基于Web的智能工具，能够自动分析视频/音频文件的音量，识别并标记出“无用”的静音片段。用户通过简单的参数配置，即可快速生成一个已去除这些片段的新视频/音频文件，或生成一个可直接导入专业剪辑软件的工程文件（如XML），极大提升剪辑效率。

**成功指标：**

- 处理准确率（静音片段识别正确率 > 98%）
- 处理速度（例如：1小时音频处理时间 < 2分钟）
- 用户满意度（通过后续用户反馈收集）

## 2. 功能需求详述

### 2.1 核心功能：静音片段自动识别与处理

1. **文件上传：**
  
  - 支持主流的视频和音频格式（如：MP4, MOV, MP3, WAV, M4A）。
  - 支持拖拽上传和点击选择文件。
  - 清晰显示上传进度、文件名称、大小和时长。
2. **智能音量分析：**
  
  - 上传后，系统自动对音轨进行解码和分析，生成**音量波形图**，使用户可以直观地看到音量的变化。
  - 波形图应可缩放和拖拽，便于查看细节。
3. **参数配置区：**
  
  - **核心参数：**
    - **静音阈值 (x dB)：** 低于此音量值的片段将被判定为“静音”。提供滑动条和数字输入框两种方式调节。
    - **前过渡保留 (a 秒)：** 在每个“有用片段”（人声片段）的开始处，额外保留一定时间，防止一句话的开头被切掉。支持毫秒级精度。
    - **后过渡保留 (b 秒)：** 在每个“有用片段”的结束处，额外保留一定时间，防止一句话的尾巴被切掉。
  - **预设档位（“节奏模式”）：**
    - **慢速节奏：** 适用于访谈、播客等停顿较多的场景。（示例预设：x = -50dB, a = 0.5s, b = 0.8s）
    - **中等节奏：** 适用于大多数标准口播视频。（示例预设：x = -40dB, a = 0.3s, b = 0.5s）
    - **快速节奏：** 适用于信息密集、语速快的短视频（如知识分享）。（示例预设：x = -35dB, a = 0.2s, b = 0.3s）
    - **自定义：** 用户自由调整以上三个参数。
  - **高级参数（V2.0或一期隐藏高级选项）：**
    - **最小静音时长：** 低于阈值但持续时间过短（如小于0.3秒）的片段忽略不计，防止呼吸声等被误切。
    - **最小人声时长：** 高于阈值但持续时间过短（如小于0.5秒）的片段忽略不计，防止短促的噪声被保留。
4. **可视化编辑与采样（核心特色功能）：**
  
  - **音轨波形图编辑器：**
    - 波形图上方应有一条**水平阈值线**，直观显示当前设置的dB值。拖动该线即可实时调整“静音阈值”参数。
    - 系统分析后，应用**颜色区分**波形：**灰色**表示被识别为静音的片段，**蓝色**（或其他颜色）表示有用片段。
  - **采样功能：**
    - 提供一个“采样按钮”或“取色器”工具。
    - 用户点击该工具后，再在波形图的**背景噪音部分**点击一下，系统自动计算出该点的音量值，并将其设置为“静音阈值(x dB)”的值。这是设置参数的极佳方式。
  - **手动微调编辑：**
    - **切割：** 用户可以在波形图的任意位置点击，添加切割点，**强制分割片段**。
    - **合并：** 用户可以通过框选多个片段（或按住Shift点击），将其合并为一个片段，**强制保留**本应被删除的静音部分（例如，用户希望保留某个有意义的停顿）。
    - **删除：** 用户可以手动选择某个片段（即使它是有用片段）并删除。
  - 所有手动编辑操作都应支持撤销（Undo）和重做（Redo）。
5. **预览与输出：**
  
  - **预览功能：** 在处理前，提供一段30秒的典型片段预览，让用户确认处理效果是否符合预期。
  - **输出设置：**
    - **输出格式：** 选择输出为视频（MP4）或纯音频（MP3）。
    - **输出质量：** 选择分辨率、码率等。
    - **输出方式：**
      - 直接下载处理后的文件。
      - **(高价值功能)** 生成并下载**Adobe Premiere Pro XML** 文件或 **Final Cut Pro XML** 文件。用户可在专业软件中导入此XML，得到的是一个在时间线上已经切好的序列，可以进行更精细的二次编辑。
  - **开始处理按钮：** 清晰显示处理队列和预计完成时间。

### 2.2 用户与系统功能

1. **用户系统（V1.0可简化）：**
  
  - 支持邮箱/手机号注册登录。
  - 用户的历史处理记录可保存一段时间（如7天），支持重新下载。
  - 用户可保存自己常用的参数配置预设。
2. **计费与积分系统（后续扩展）：**
  
  - 可考虑免费用户有处理时长或次数限制，付费订阅解锁无限制使用。

## 3. 非功能性需求

1. **性能：**
  
  - 所有音频处理应在浏览器端或服务器端高效完成。**（技术选型关键：后端FFmpeg服务）**
  - 页面响应流畅，波形图渲染和交互无卡顿。
2. **可用性：**
  
  - 界面简洁直观，引导清晰。核心流程（上传->设置->处理->下载）应在3步内完成。
  - 参数说明有悬停提示（Tooltips），降低用户理解成本。
3. **可靠性：**
  
  - 支持处理大文件（如2小时以上的视频）。
  - 处理过程意外中断（如网络问题）应有提示，并支持断点续传/续处理。
4. **安全性：**
  
  - 用户上传的文件在服务器端应被安全地隔离和存储，并在处理完成后的一定时间（如24小时）后自动删除，保护用户隐私。

## 4. 您未提及但需考虑的补充点

1. **版权与法律风险：** 在用户协议中明确声明，工具不存储、不用作它用用户上传的内容，避免版权纠纷风险。

## 5. 未来版本规划 (Roadmap)

- **V1.0 (MVP):** 核心静音检测、预设档位、波形图可视化、阈值线拖动、采样、简单切割、直接输出MP4/MP3。
- **V1.5:** 手动合并/删除片段、撤销/重做、高级参数（最小时长）、XML文件导出、用户历史记录。
- **V2.0:** 多音轨处理、AI降噪（去除背景噪音）、自动电平均衡（统一音量）、自动生成字幕（SRT文件）。
- **V3.0:** 引入更多工具，形成真正的“自媒体工具集”，如：批量字幕工具、横屏转竖屏工具、自动封面生成器等。


前端草稿文件夹： draft
web文件夹： web
后端文件夹： backend